(()=>{document.addEventListener("DOMContentLoaded",(()=>{sessionStorage.setItem("MyToken","eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyIsImtpZCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0L2FjNzllNWE4LWUwZTQtNDM0Yi1hMjkyLTJjODliNWMyODM2Ni8iLCJpYXQiOjE2OTYyNjkwMzIsIm5iZiI6MTY5NjI2OTAzMiwiZXhwIjoxNjk2MjczMzA5LCJhY3IiOiIxIiwiYWlvIjoiQVRRQXkvOFVBQUFBL1VnR3duYVVzaW1ocmVYbTg4Sk5IVUNGaVpSQlRjYldDOUVkbHIvRjB3R0Q0aXBMVGE1akQwMWhKTTZKdERyWiIsImFtciI6WyJwd2QiXSwiYXBwaWQiOiIxOGZiY2ExNi0yMjI0LTQ1ZjYtODViMC1mN2JmMmIzOWIzZjMiLCJhcHBpZGFjciI6IjAiLCJmYW1pbHlfbmFtZSI6IkNvbnN1ZWdyYSIsImdpdmVuX25hbWUiOiJCcmFkbGV5IiwiZ3JvdXBzIjpbIjU0MWI0OTA0LTljYjAtNGMyNC04Zjk3LTVlMzIxNjc2NDhmMiIsIjExZGYyMDEwLTk1NTgtNDBjYy1hNDg2LWJhMWI0NDdmNDRmNSIsImE1YjIyOWQwLWE5N2YtNGE5Yi1iZGYyLTE4YTAxZWQxMGExNyJdLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiIyNjAwOjE3MDA6Mzg3MDo1MjYwOjJkN2Y6ZTllYjo2YjA1OjNlMGQiLCJuYW1lIjoiQnJhZGxleSBDb25zdWVncmEiLCJvaWQiOiJmZTIyZTgzOC04MDRkLTQ1ZTQtOGRhYS05MzhkZDlhOWZmZTQiLCJvbnByZW1fc2lkIjoiUy0xLTUtMjEtMTkyOTA4MzIyNS0yMzgwMzEwMTU1LTMyNDQ0NzkxOTEtNzgzNDAwIiwicHVpZCI6IjEwMDMyMDAwQjZDMzA0RTkiLCJyaCI6IjAuQVZzQXFPVjVyT1RnUzBPaWtpeUp0Y0tEWmtaSWYza0F1dGRQdWtQYXdmajJNQk5iQVBnLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInN1YiI6IlZJRll2S05jVk1MNlc1ZkFEc2NJc1BVUzhjRUhzMTFzVmIxUzhzVm8xcUkiLCJ0aWQiOiJhYzc5ZTVhOC1lMGU0LTQzNGItYTI5Mi0yYzg5YjVjMjgzNjYiLCJ1bmlxdWVfbmFtZSI6ImJjb25zMDEwQGZpdS5lZHUiLCJ1cG4iOiJiY29uczAxMEBmaXUuZWR1IiwidXRpIjoiMmt1UGdRczlxa1d6WDJYZW52a3NBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc190Y2R0IjoxMzQ5Mzg0MzczfQ.rDfn5BLcfdWD3_HmRVEL5FWGdntCHlGwhHmUx1xaNJkFV-cWq5UfKhyPo4rQP-_8KVIP1tWjqAl8U9iQXWFXl7ZnVofn53G3cNtY1fTSOwdNB0zT_v3JKvYRiYhrcZjH67C8s6VWMCCPyEnmrXezYHyP93Oj1I-3x4NWvg4d3RoIZnTXGZ6u43Dk2_yqYOtQl8Kkves-kqb3Y7MZHcJG1pFgQk1PrZzzEjpT9qBJxAmcW3GnF5HFU-vq36Dc6JHKoJ6rHJopPiQes9UHx9lxZyVtoFfAoIkYejlEOduTuGoyLaqOJZnr-NEZ3FuUudLI9GkM5sl-uljktqrEo7oc1g"),e()}));let e=e=>{let i=sessionStorage.getItem("MyToken"),t=new Headers;t.append("Authentication","Bearer ".concat(i)),t.append("Authorization","Bearer ".concat(i));let I=new Request("https://management.azure.com/subscriptions?api-version=2022-12-01",{method:"GET",mode:"cors",headers:t});async function n(){const e=await function(){let e;return fetch(I).then((e=>e.json())).then((i=>{e=i.value[0].id})).catch((e=>{console.error(e.message)})),new Promise((i=>{setTimeout((()=>{i(e)}),1e3)}))}();let i;console.log(e);let n="https://management.azure.com".concat(e,"/providers/Microsoft.Compute/virtualMachines?api-version=2023-07-01"),o=new Request(n,{method:"GET",mode:"cors",headers:t});return fetch(o).then((e=>e.json())).then((e=>{console.log(e),i=e})).catch((e=>{console.error(e.message)})),new Promise((e=>{setTimeout((()=>{e(i)}),1e3)}))}!async function(){const e=await n();for(let i=0;i<e.value.length;i++){console.log(e.value[i].name);const t=document.createElement("div"),I=document.createTextNode(e.value[i].name);t.appendChild(I),document.body.insertBefore(t,document.getElementById("vm-footer"))}}()}})();
//# sourceMappingURL=azure-azureScript.js.map